<!DOCTYPE html>
<html th:replace="~{banhang/layout/layout :: banhang(~{::title},~{::main})}" , xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product List</title>
</head>

<body>
  <main ng-controller="product-controller">
    <div class="title-wrapper">
      <div class="container">
        <div class="container-inner">
          <h1><span>Sản Phẩm</span></h1>
          <em>NHUTIN STORE ĐỒNG HÀNH CÙNG SIÊU SALE 20-10</em>
        </div>
      </div>
    </div>

    <div class="main">
      <div class="container">
        <ul class="breadcrumb">
          <li><a href="">Trang chủ</a></li>
          <li class="active">Sản phẩm</li>
        </ul>
        <!-- BEGIN SIDEBAR & CONTENT -->
        <div class="row margin-bottom-40">
          <!-- BEGIN SIDEBAR -->
          <div class="sidebar col-md-3 col-sm-5">
            <div class="sidebar-filter margin-bottom-25">
              <h2>Danh mục</h2>
              <div class="checkbox-list">
                <label>
                  <a href="javascript:location.reload(true);">
                    <h3>Tất cả</h3>
                  </a>
                </label>
              </div>
              <div class="checkbox-list" ng-repeat="item in categoris" ng-if="item.active !== false">
                <label>
                  <input type="checkbox" ng-model="item.selected" ng-change="toggleSelection(item)">
                  {{item.categoryName}}
                </label>
              </div>
            </div>
            <!-- Thêm liên kết để hiển thị tất cả loại và sản phẩm -->

            <div class="sidebar-products">
              <h2>Thương hiệu</h2>
              <div class="col-md-6 col-sm-12 col-xs-12" ng-repeat="item in brands" ng-if="item.active !== false">
                <a class="card" ng-click="filterDataBrand(item.brandID)">
                  <img ng-src="./assets/images/carousel/{{item.image}}" alt="Berry Lace Dress">
                  <div class="card-body">
                    <h5 class="card-text">{{item.brandName}}</h5>
                  </div>
                </a>
              </div>
            </div>

          </div>
          <!-- END SIDEBAR -->
          <!-- BEGIN CONTENT -->
          <div class="col-md-9 col-sm-7">
            <div class="row list-view-sorting clearfix">
              <div class="col-md-2 col-sm-2 list-view">
                <a href="javascript:;"><i class="fa fa-th-large"></i></a>
                <a href="javascript:;"><i class="fa fa-th-list"></i></a>
              </div>
              <div class="pull-right">
                <label class="control-label">Sort&nbsp;By Price:</label>

                <select id="priceSelect" class="form-control input-sm" ng-model="selectedPrice"
                  ng-change="loadProductsByPrice(selectedPrice)">
                  <option value="">Tất cả</option>
                  <option value="2000000">Dưới 2.000.000 VND</option>
                  <option value="5000000">Dưới 5.000.000 VND</option>
                  <option value="10000000">Dưới 10.000.000 VND</option>
                  <option value="20000000">Dưới 20.000.000 VND</option>
                  <option value="50000000">Dưới 50.000.000 VND</option>
                  <!-- Thêm các tùy chọn khác tại đây -->
                </select>

              </div>
            </div>

            <!-- BEGIN PRODUCT LIST -->
            <div class="row product-list">
              <!-- PRODUCT ITEM START -->
              <div ng-if="noProductsFound">
                <div class="col-md-12 col-sm-4 items-info">
                  <h3>Không có sản phẩm nào được tìm thấy.</h3>
                </div>
              </div>
              <div class="col-md-4 col-sm-6 col-xs-12" ng-repeat="item in products">
                <div class="product-item">
                  <div class="pi-img-wrapper">
                    <img style="height: 170px;" ng-src="../assets/images/product/{{item.image}}" class="img-responsive"
                      alt="Berry Lace Dress">
                    <div>
                      <a href="../assets/images/product/{{item.image}}" class="btn btn-default fancybox-button">Zoom</a>
                    </div>
                  </div>
                  <h3 style="height: 40px;"><a ng-click="goToSinglePage(item.productID)">{{item.productName}}</a></h3>
                  <div class="pi-price" style="margin: 15px;">
                    <strike ng-if="item.promotion">{{ item.price | number: 0 }} đ</strike>
                    <span ng-show="!item.promotion">{{ item.price | number: 0 }} đ</span>
                  </div><br>
                  <div ng-if="item.promotion" class="pi-price">
                    {{ calculateDiscountedPrice(item) | number: 0 }} đ
                  </div>


                  <a class="btn btn-default add2cart" ng-click="addToCart(item.productID)"
                    ng-if="item.active !== false">Add to cart</a>
                  <a class="btn btn-default add2cart" ng-if="item.active === false">Hết hàng</a>
                </div>
              </div>
            </div>
          </div>
          <!-- END PRODUCT LIST -->
          <!-- BEGIN PAGINATOR -->
          <!-- END PAGINATOR -->
        </div>
        <!-- END CONTENT -->
      </div>
      <!-- END SIDEBAR & CONTENT -->
    </div>
    </div>
  </main>
</body>

</html>