<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body ng-controller="category-controller">
  <div class="pre-header">
    <div class="container">
      <div class="row">
        <div class="col-12 ">
          <ul class=" list-inline" style="display: flex;
          align-items: center;">
            <li class="text-center"><a th:href="@{/home}"><img width="100" height="50"
                  src="https://dienmaytindung.com/wp-content/uploads/2023/08/logo-1.png" class="header_logo header-logo"
                  alt="Điện Máy Tín Dũng"></li></a>
            <li>
              <p style="font-weight: bold; margin-top: 10px;"> <i class="fa fa-phone"></i> +0866065558</p>
            </li>
            <li class="shop-currencies">
              <!-- <p> <i class="fa fa-map-marker" aria-hidden="true"></i> Cần Thơ</p> -->
              <section>
                <select class="form-control TP my-select">
                  <option value="tho1">Cần thơ 1</option>
                  <option value="tho2">Cần thơ 2</option>
                  <option value="tho3">Cần thơ 3</option>
                  <option value="tho4">Cần thơ 4</option>
                </select>
              </section>
            </li>
            <li ng-if="loggedInUser"> Xin chào <span class="first-letter" ng-bind="loggedInUser.fullName"></span></li>
        </div>
        </ul>
      </div>
    </div>
  </div>

  <header style="background-color:#d70018;">
    <!-- <div id="navbar">
      <div class="container">
      </div>
    </div> -->
    <div class="header" ng-controller="product-controller">
      <div class="container">
        <a href="javascript:void(0);" class="mobi-toggler"><i class="fa fa-bars"></i></a>
        <div class="top-cart-block">
          <a href="javascript:void(0);@{/cart}"><i class=" fa fa-shopping-cart">{{getcount()}}</i></a>
          <div class="top-cart-content-wrapper">
            <div class="top-cart-content" style="margin-top: 60px;">
              <ul class="scroller" style="height: 250px;">
                <li ng-repeat="gh in cartItems">
                  <a href=""><img ng-src="../assets/images/product/{{gh.image}}" alt="{{gh.image}}" width="37"
                      height="34"></a>
                  <span class="cart-content-count">X {{gh.qty}}</span>
                  <strong style="color: black;"><b href="">{{gh.productName}}</b></strong>
                  <em>{{gh.price|number : 0}} đ</em>
                  <a href="javascript:void(0);" class="del-goods" ng-click="removesp(item.productID)">&nbsp;</a>
                </li>
              </ul>
              <div class="text-right">
                <a th:href="@{/cart}" class="btn btn-default">View Cart</a>
                <a th:href="@{/checkout}" class="btn btn-primary">Checkout</a>
              </div>
            </div>
          </div>
        </div>
        <div class="header-navigation" style="color: white;">
          <ul>
            <li class="dropdown dropdown-megamenu">
              <a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="javascript:;">
                <i class="fa fa-bars" aria-hidden="true"></i> <strong>DANH MỤC</strong>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <div class="header-navigation-content">
                    <div class="row">
                      <div class="col-md-12 header-navigation-col">
                        <h4 style="color: black;">Điện máy</h4>
                        <ul ng-repeat="item in categoris" ng-if="item.active !== false">
                          <li><a ng-click="goToCategory(item.categoryID)">{{item.categoryName}}</a></li>
                        </ul>
                      </div>
                      <div class="col-md-12 nav-brands">
                        <ul class="brand-list">
                          <li ng-repeat="item in brands" ng-if="item.active !== false"
                            style="display: inline-block; margin-right: 20px;">
                            <a>
                              <img title="esprit" alt="esprit" ng-src="../assets/images/carousel/{{item.image}}">
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a th:href="@{/home}">
                <strong> <i class="fa fa-home"></i> Trang Chủ</strong>
              </a>
            </li>
            <li>
              <a th:href="@{/shop}"> <strong> <i class="fa fa-laptop" aria-hidden="true"></i> Sản phẩm</strong>
              </a>
            </li>
            <li>
              <a th:href="@{/about}">
                <strong> <i class="fa fa-users" aria-hidden="true"></i> Giới thiệu</strong>
              </a>
            </li>
            <li>
              <a href="">
                <strong> <i class="fa fa-address-book" aria-hidden="true"></i> Liên hệ</strong>
              </a>
            </li>
            <li th:unless="${#request.remoteUser}">
              <a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="javascript:;">
                <strong> <i class="fa fa-user-circle" aria-hidden="true"></i> Tài khoản</strong>
              </a>

              <ul class="dropdown-menu">
                <li><a th:href="@{/login}"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Đăng
                    nhập</a></li>
                <li><a th:href="@{/registration}"><i class="fa fa-info-circle" aria-hidden="true"></i> Đăng ký</a></li>
                <li><a th:href="@{/reset-password}"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> Quên
                    mật khẩu</a></li>
              </ul>
            </li>

            <li th:if="${#request.remoteUser}">
              <a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="javascript:;">
                <strong> <i class="fa fa-user-circle" aria-hidden="true"></i> Tài Khoản</strong>
              </a>
              <ul class="dropdown-menu">
                <li th:if="${#request.isUserInRole('ADMIN')}"><a th:href="@{/admin/index}"><i class="fa fa-user-secret"
                      aria-hidden="true"></i> Trang quản lý</a></li>
                <li><a th:href="@{/changepassword}"><i class="fa fa-wrench" aria-hidden="true"></i> Đổi mật khẩu</a>
                </li>
                <li><a th:href="@{/khuyenmai}"> <i class="fa fa-gift" aria-hidden="true"></i> Voucher</a>
                </li>
                <li><a th:href="@{/user/history}"><i class="fa fa-history" aria-hidden="true"></i> Lịch sử mua</a>
                </li>
                <li><a th:href="@{/user/profile}"><i class="fa fa-user" aria-hidden="true"></i> Trang cá nhân</a>
                </li>
                <li><a th:href="@{/logout}"><i class="fa fa-sign-out" aria-hidden="true"></i><i
                      class="fa fa-chevron-circle-right" aria-hidden="true"></i> Đăng xuất</a></li>
              </ul>
            </li>
            <li class="menu-search">
              <span class="sep"></span>
              <i class="fa fa-search search-btn"></i>
              <div class="search-box">
                <div class="input-group">
                  <input type="search" placeholder="Bạn tìm gì...." class="form-control" id="productName"
                    ng-model="searchText" name="productName">
                  <span class="input-group-btn">
                    <button ng-click="searchProductsByName()" class="btn btn-primary">Search</button>
                  </span>
                </div>
              </div>
            </li>
            <li>
            </li>
          </ul>
        </div>
      </div>
      <!-- Modal -->
      <div class="modal fade modal-fullscreen bd-example-modal-lg" id="exampleModal2" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title" id="exampleModalLabel">Tìm kiếm sản phẩm</h1>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="col-md-3 col-12" ng-repeat="item in products track by item.productID">
                <div class="card" style="width: 280px; height: 350px; padding: 10px;">
                  <div class="card__image">
                    <img style="height: 170px; cursor: pointer;" ng-click="goToSinglePage(item.productID)"
                      ng-src="../assets/images/product/{{item.image}}" class="img-responsive" alt="Berry Lace Dress">
                  </div>
                  <div class="card__content" style="margin-top: 30px;">
                    <span class="title" ng-click="goToSinglePage(item.productID)"
                      style="font-size: small; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: pointer;"
                      title="{{item.productName}}">
                      {{item.productName}}
                    </span>
                    <p class="pi-price">
                      <strike ng-if="item.promotion" style="font-size: small;">{{ item.price | number: 0 }}
                        đ</strike>

                    </p>
                    <span ng-show="!item.promotion" style="font-weight: bold;">{{ item.price | number: 0 }}
                      đ</span>
                    <div style="display: flex; align-items: center; justify-content: end;">
                      <div style="font-weight: bold;" ng-if="item.promotion" class="pi-price">
                        {{ calculateDiscountedPrice(item) | number: 0 }} đ
                      </div>
                      <!-- <a style="width: 80px; margin-left: auto; cursor: pointer; display: flex; align-items: center; justify-content: end; margin-top: 15px;"
                        ng-click="selectProduct(item)">
                        <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" style="margin-bottom: 8px;"
                          viewBox="0 0 448 512">
                          <path fill="#8f8c8c"
                            d="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 344V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z" />
                        </svg>
                        <p style="margin-left: 6px; color: rgb(143, 140, 140) ;">So sánh</p>
                      </a> -->
                    </div>
                    <a class="btn btn-default add2cart" ng-click="addToCart(item.productID)"
                      ng-if="item.active !== false">Thêm vào giỏ hàng</a>
                    <a class="btn btn-default add2cart" ng-if="item.active === false">Hết
                      hàng</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
</body>

</html>